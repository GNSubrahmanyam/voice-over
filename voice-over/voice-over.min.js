/**
 * voice-over.min.js
 *
 *
 * @license  the MIT license
 * @version 1.0.0
 * @author  G Naga Subrahmanyam, https://github.com/GNSubrahmanyam
 * @created 11-Oct-2017
 * @link https://github.com/GNSubrahmanyam/voice-over
 *
 *
 **/

/**
 * Usage:
 * <div class="voice-over" data-voice-over="Some Text">Some Text</div>
 *
 **/

if('speechSynthesis' in window){console.log('Your browser supports speech synthesis.')}else{console.log('Sorry your browser does not support speech synthesis.')}
var voiceOver=document.getElementsByClassName('voice-over');var voiceSelect=document.getElementById('voices');function loadVoices(){var voices=speechSynthesis.getVoices();voices.forEach(function(voice,i){var option=document.createElement('option');option.value=voice.name;option.innerHTML=voice.name;voiceSelect.appendChild(option)})}
loadVoices();window.speechSynthesis.onvoiceschanged=function(e){loadVoices()};function speak(text){var msg=new SpeechSynthesisUtterance();msg.text=text;msg.volume=1;msg.rate=0.8;msg.pitch=1.2;if(voiceSelect.value){msg.voice=speechSynthesis.getVoices().filter(function(voice){return voice.name==voiceSelect.value})[0]}
window.speechSynthesis.speak(msg)}
for(var i=0;i<voiceOver.length;i++){voiceOver[i].addEventListener('click',function(){var speechMsgInput=this.getAttribute("data-voice-over");speak(speechMsgInput)})}
